# Solanaéƒ¨ç½²ç»­ä¼ å·¥å…· (Solana Deploy Resume Tool)

## ğŸ“‹ é¡¹ç›®èƒŒæ™¯

Solanaç¨‹åºéƒ¨ç½²è¿‡ç¨‹ä¸­å­˜åœ¨çš„æ ¸å¿ƒç—›ç‚¹ï¼š
- ç¨‹åºéƒ¨ç½²éœ€è¦åˆ†æ‰¹ä¸Šä¼ Bufferï¼Œæ¶ˆè€—å¤§é‡æ‰‹ç»­è´¹
- ç½‘ç»œæ‹¥å µæˆ–å…¶ä»–åŸå› å¯¼è‡´ä¸Šä¼ å¤±è´¥æ—¶ï¼Œå·²æ¶ˆè€—çš„æ‰‹ç»­è´¹æ— æ³•è¿”è¿˜
- éœ€è¦ä»å¤´å¼€å§‹é‡æ–°éƒ¨ç½²ï¼Œé€ æˆç»æµæŸå¤±å’Œæ—¶é—´æµªè´¹

## ğŸ¯ é¡¹ç›®ç›®æ ‡

å¼€å‘ä¸€ä¸ªæ™ºèƒ½çš„Solanaç¨‹åºéƒ¨ç½²ç»­ä¼ å·¥å…·ï¼Œå®ç°ï¼š
- **æ–­ç‚¹ç»­ä¼ **: ä»å¤±è´¥ç‚¹ç»§ç»­éƒ¨ç½²ï¼Œé¿å…é‡å¤æ¶ˆè´¹
- **çŠ¶æ€ç®¡ç†**: æŒä¹…åŒ–éƒ¨ç½²è¿›åº¦å’ŒbufferçŠ¶æ€
- **è´¹ç”¨ä¼˜åŒ–**: æœ€å¤§åŒ–åˆ©ç”¨å·²æœ‰bufferï¼Œå‡å°‘ä¸å¿…è¦çš„è´¹ç”¨
- **æ™ºèƒ½é‡è¯•**: æ ¹æ®ç½‘ç»œçŠ¶å†µè°ƒæ•´éƒ¨ç½²ç­–ç•¥
- **å¯è§†åŒ–ç•Œé¢**: æä¾›å‹å¥½çš„Web UIå’Œå®æ—¶ç›‘æ§

## ğŸ” å¸‚åœºè°ƒç ”æ€»ç»“

ç»è¿‡è°ƒç ”å‘ç°ï¼š
- **ç¼ºå¤±**: ç›®å‰å¸‚é¢ä¸Šç¼ºä¹ä¸“é—¨çš„Solanaéƒ¨ç½²ç»­ä¼ å·¥å…·
- **æœºä¼š**: Solanaå®˜æ–¹CLIè™½æœ‰åŸºç¡€ç»­ä¼ åŠŸèƒ½ï¼Œä½†ç”¨æˆ·ä½“éªŒä¸ä½³
- **éœ€æ±‚**: ç¤¾åŒºç¡®å®å­˜åœ¨å¯¹å¯é éƒ¨ç½²å·¥å…·çš„éœ€æ±‚

### ç°æœ‰æŠ€æœ¯åŸºç¡€

1. **Solanaå®˜æ–¹æ”¯æŒ**:
   - Loader-v3: æä¾›buffer recoveryæœºåˆ¶
   - Loader-v4: æ”¯æŒ`--start-offset`ç»­ä¼ 
   
2. **ç›¸å…³å·¥å…·å‚è€ƒ**:
   - solana-buffer-deploy-action: GitHubè‡ªåŠ¨åŒ–éƒ¨ç½²
   - Nirvana Financeæ¨¡å¼: ä¸Šä¼ ä¸éƒ¨ç½²åˆ†ç¦»

## ğŸ— é¡¹ç›®æ¶æ„

### æ•´ä½“æ¶æ„å›¾
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Solana Deploy Resume Tool                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Frontend (Web UI)                                          â”‚
â”‚  â”œâ”€â”€ Dashboard (éƒ¨ç½²çŠ¶æ€ç›‘æ§)                                â”‚
â”‚  â”œâ”€â”€ Deploy Interface (éƒ¨ç½²æ“ä½œç•Œé¢)                        â”‚
â”‚  â”œâ”€â”€ Analytics (æ€§èƒ½æŒ‡æ ‡åˆ†æ)                               â”‚
â”‚  â””â”€â”€ Settings (é…ç½®ç®¡ç†)                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Backend API Server                                         â”‚
â”‚  â”œâ”€â”€ REST API (éƒ¨ç½²ç®¡ç†æ¥å£)                                â”‚
â”‚  â”œâ”€â”€ WebSocket (å®æ—¶çŠ¶æ€æ¨é€)                               â”‚
â”‚  â””â”€â”€ Authentication (èº«ä»½è®¤è¯)                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Core Engine (Rust)                                         â”‚
â”‚  â”œâ”€â”€ State Manager (çŠ¶æ€ç®¡ç†å™¨)                             â”‚
â”‚  â”œâ”€â”€ Resume Engine (ç»­ä¼ å¼•æ“)                               â”‚
â”‚  â”œâ”€â”€ Network Analyzer (ç½‘ç»œåˆ†æå™¨)                          â”‚
â”‚  â”œâ”€â”€ Fee Optimizer (è´¹ç”¨ä¼˜åŒ–å™¨)                             â”‚
â”‚  â””â”€â”€ CLI Interface (å‘½ä»¤è¡Œæ¥å£)                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Storage Layer                                               â”‚
â”‚  â”œâ”€â”€ Local State DB (æœ¬åœ°çŠ¶æ€æ•°æ®åº“)                        â”‚
â”‚  â”œâ”€â”€ Config Files (é…ç½®æ–‡ä»¶)                                â”‚
â”‚  â””â”€â”€ Log Files (æ—¥å¿—æ–‡ä»¶)                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Solana Integration                                          â”‚
â”‚  â”œâ”€â”€ RPC Client (RPCå®¢æˆ·ç«¯)                                 â”‚
â”‚  â”œâ”€â”€ Loader v3/v4 Support (åŠ è½½å™¨æ”¯æŒ)                      â”‚
â”‚  â””â”€â”€ Transaction Manager (äº¤æ˜“ç®¡ç†å™¨)                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æ ¸å¿ƒæ¨¡å—è¯¦è§£

#### 1. çŠ¶æ€ç®¡ç†å™¨ (State Manager)
```rust
pub struct StateManager {
    pub deployment_states: HashMap<String, DeploymentState>,
    pub buffer_registry: BufferRegistry,
    pub progress_tracker: ProgressTracker,
}
```

#### 2. ç»­ä¼ å¼•æ“ (Resume Engine)
```rust
pub struct ResumeEngine {
    pub loader_detector: LoaderVersionDetector,
    pub resume_point_calculator: ResumePointCalculator,
    pub upload_scheduler: UploadScheduler,
}
```

#### 3. ç½‘ç»œåˆ†æå™¨ (Network Analyzer)
```rust
pub struct NetworkAnalyzer {
    pub latency_monitor: LatencyMonitor,
    pub throughput_analyzer: ThroughputAnalyzer,
    pub congestion_detector: CongestionDetector,
}
```

#### 4. è´¹ç”¨ä¼˜åŒ–å™¨ (Fee Optimizer)
```rust
pub struct FeeOptimizer {
    pub buffer_reuse_strategy: BufferReuseStrategy,
    pub priority_fee_calculator: PriorityFeeCalculator,
    pub cost_benefit_analyzer: CostBenefitAnalyzer,
}
```

## ğŸ›  æŠ€æœ¯æ ˆ

### åç«¯ (Rust)
- **æ ¸å¿ƒæ¡†æ¶**: Tokioå¼‚æ­¥è¿è¡Œæ—¶
- **Solanaé›†æˆ**: solana-client, solana-sdk
- **CLIå·¥å…·**: clapå‘½ä»¤è¡Œè§£æ
- **æ•°æ®å­˜å‚¨**: sledæœ¬åœ°æ•°æ®åº“
- **APIæœåŠ¡**: warp Webæ¡†æ¶
- **åºåˆ—åŒ–**: serde JSON/TOML

### å‰ç«¯ (TypeScript/React)
- **æ¡†æ¶**: React 18 + TypeScript
- **UIç»„ä»¶**: Ant Design + Tailwind CSS
- **çŠ¶æ€ç®¡ç†**: Zustand
- **å›¾è¡¨å¯è§†åŒ–**: Chart.js/Recharts
- **å®æ—¶é€šä¿¡**: WebSocket
- **æ„å»ºå·¥å…·**: Vite

### æ•°æ®å­˜å‚¨
- **çŠ¶æ€å­˜å‚¨**: Sled æœ¬åœ°KVæ•°æ®åº“
- **é…ç½®æ–‡ä»¶**: TOMLæ ¼å¼
- **æ—¥å¿—ç³»ç»Ÿ**: tracing + æ–‡ä»¶è¾“å‡º

## ğŸ“‹ å®ç°è®¡åˆ’

### Phase 1: æ ¸å¿ƒåŠŸèƒ½ (ç¬¬1-2å‘¨)
- âœ… é¡¹ç›®æ¶æ„æ­å»º
- ğŸ”„ æ ¸å¿ƒç»­ä¼ ç®—æ³•å®ç°
- ğŸ”„ çŠ¶æ€æŒä¹…åŒ–ç³»ç»Ÿ
- ğŸ”„ åŸºç¡€CLIå‘½ä»¤

### Phase 2: Webç•Œé¢ (ç¬¬3-4å‘¨)
- ğŸ”„ Reactå‰ç«¯æ¡†æ¶æ­å»º
- ğŸ”„ éƒ¨ç½²çŠ¶æ€ç›‘æ§ç•Œé¢
- ğŸ”„ å®æ—¶è¿›åº¦å±•ç¤º
- ğŸ”„ WebSocketé€šä¿¡

### Phase 3: é«˜çº§ç‰¹æ€§ (ç¬¬5-6å‘¨)
- ğŸ”„ æ™ºèƒ½ç½‘ç»œåˆ†æ
- ğŸ”„ è´¹ç”¨ä¼˜åŒ–ç­–ç•¥
- ï¿½ï¿½ æ€§èƒ½æŒ‡æ ‡ç›‘æ§
- ğŸ”„ é”™è¯¯æ¢å¤æœºåˆ¶

### Phase 4: æµ‹è¯•ä¼˜åŒ– (ç¬¬7-8å‘¨)
- ğŸ”„ å•å…ƒæµ‹è¯•è¦†ç›–
- ğŸ”„ é›†æˆæµ‹è¯•
- ğŸ”„ æ€§èƒ½æµ‹è¯•
- ğŸ”„ ç”¨æˆ·ä½“éªŒä¼˜åŒ–

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å®‰è£…ä¾èµ–
```bash
# å®‰è£…Rustä¾èµ–
cargo build

# å®‰è£…å‰ç«¯ä¾èµ–
cd frontend
npm install
```

### è¿è¡Œé¡¹ç›®
```bash
# å¯åŠ¨åç«¯æœåŠ¡
cargo run --bin server

# å¯åŠ¨å‰ç«¯å¼€å‘æœåŠ¡å™¨
cd frontend
npm run dev
```

### CLIä½¿ç”¨ç¤ºä¾‹
```bash
# å¼€å§‹æ–°çš„éƒ¨ç½²
sol-deploy-resume deploy --program-file target/deploy/my_program.so

# ç»­ä¼ å¤±è´¥çš„éƒ¨ç½²
sol-deploy-resume resume --deployment-id abc123

# æŸ¥çœ‹éƒ¨ç½²çŠ¶æ€
sol-deploy-resume status --deployment-id abc123
```

## ğŸ“Š æ€§èƒ½æŒ‡æ ‡

é¡¹ç›®å°†è¿½è¸ªä»¥ä¸‹å…³é”®æŒ‡æ ‡ï¼š
- **è´¹ç”¨èŠ‚çœç‡**: ç»­ä¼ vsé‡æ–°éƒ¨ç½²çš„è´¹ç”¨å¯¹æ¯”
- **éƒ¨ç½²æˆåŠŸç‡**: ä½¿ç”¨ç»­ä¼ å·¥å…·vsåŸç”ŸCLIçš„æˆåŠŸç‡
- **æ—¶é—´èŠ‚çœ**: ç»­ä¼ vså®Œæ•´é‡æ–°éƒ¨ç½²çš„æ—¶é—´å¯¹æ¯”
- **ç½‘ç»œæ•ˆç‡**: å®é™…ä¼ è¾“vsç†è®ºæœ€ä¼˜ä¼ è¾“çš„æ•ˆç‡

## ğŸ¤ è´¡çŒ®æŒ‡å—

æ¬¢è¿æäº¤Issueå’ŒPull Requestæ¥å¸®åŠ©æ”¹è¿›é¡¹ç›®ï¼

## ğŸ“„ è®¸å¯è¯

MIT License

## ğŸ ç‹¬ç‰¹ä¼˜åŠ¿

1. **ä¸“æ³¨æ€§**: ä¸“é—¨è§£å†³éƒ¨ç½²ç»­ä¼ é—®é¢˜ï¼Œä¸æ˜¯é€šç”¨å·¥å…·çš„é™„åŠ åŠŸèƒ½
2. **æ™ºèƒ½åŒ–**: åŸºäºç½‘ç»œçŠ¶å†µå’Œå†å²æ•°æ®çš„æ™ºèƒ½å†³ç­–
3. **ç»æµæ€§**: æœ€å¤§åŒ–å‡å°‘ä¸å¿…è¦çš„è´¹ç”¨æ¶ˆè€—
4. **æ˜“ç”¨æ€§**: ç®€å•çš„CLIå‘½ä»¤ï¼Œæ— éœ€å¤æ‚é…ç½®

## ğŸ›¡ é£é™©è¯„ä¼°

### æŠ€æœ¯é£é™©
- Solanaç½‘ç»œåè®®å˜æ›´
- å®˜æ–¹å·¥å…·æ›´æ–°å¯¼è‡´çš„å…¼å®¹æ€§é—®é¢˜

### å¸‚åœºé£é™©
- å®˜æ–¹å¯èƒ½æ¨å‡ºç±»ä¼¼åŠŸèƒ½
- ç«å“å·¥å…·çš„å‡ºç°

### ç¼“è§£ç­–ç•¥
- ä¿æŒä¸å®˜æ–¹å·¥å…·çš„ç´§å¯†å…¼å®¹
- æŒç»­å…³æ³¨ç¤¾åŒºéœ€æ±‚å’Œåé¦ˆ
- å¿«é€Ÿè¿­ä»£å’ŒåŠŸèƒ½åˆ›æ–°

## ğŸ¤ è´¡çŒ®æŒ‡å—

æˆ‘ä»¬æ¬¢è¿ç¤¾åŒºè´¡çŒ®ï¼è¯·æŸ¥çœ‹ [CONTRIBUTING.md](CONTRIBUTING.md) äº†è§£è¯¦æƒ…ã€‚

## ğŸ“ è”ç³»æ–¹å¼

- é¡¹ç›®ä»“åº“: [GitHubé“¾æ¥]
- è®¨è®ºç¤¾åŒº: [Discord/Telegramé“¾æ¥]
- é—®é¢˜åé¦ˆ: [Issuesé¡µé¢]

---

**è®©Solanaç¨‹åºéƒ¨ç½²æ›´å¯é ã€æ›´ç»æµï¼** ğŸš€